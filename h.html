<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"> 
    <title>Calculatrice de jours</title>
    <link rel="stylesheet" type="text/css" href="styles.css"> <!-- Lien vers le fichier CSS externe -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1 class="text-center">Calculatrice de jours</h1>
        <div class="row">
            <div class="col-md-6">
                <label for="date">Choisir votre date</label>
                <input type="date" id="date" class="form-control">
            </div>
            <div class="col-md-6">
                <label for="operation">Sélectionnez l'opération</label>
                <select id="operation" class="form-control">
                    <option value="Ajouter">Ajouter</option>
                    <option value="Soustraire">Soustraire</option>
                </select>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <label for="days">Choisir le nombre de jours à ajouter/soustraire</label>
                <input type="number" id="days" class="form-control" min="0" step="1" value="7">
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <h3 class="text-center" style="margin-top: 20px;">Le résultat est : <span id="result"></span></h3>
            </div>
        </div>
    </div>

    <script>
        var dateInput = document.getElementById("date");
        var daysInput = document.getElementById("days");
        var operationSelect = document.getElementById("operation");
        var resultSpan = document.getElementById("result");

        // Définir la date actuelle comme valeur par défaut du champ de date
        var today = new Date();
        var year = today.getFullYear();
        var month = String(today.getMonth() + 1).padStart(2, '0');
        var day = String(today.getDate()).padStart(2, '0');
        var formattedDate = year + '-' + month + '-' + day;
        dateInput.value = formattedDate;

        dateInput.addEventListener("input", calculateDate);
        daysInput.addEventListener("input", calculateDate);
        operationSelect.addEventListener("change", calculateDate);

        function calculateDate() {
            var date = new Date(dateInput.value);
            var days = parseInt(daysInput.value);
            var operation = operationSelect.value;
            
            if (operation === "Ajouter") {
                date.setDate(date.getDate() + days);
            } else if (operation === "Soustraire") {
                date.setDate(date.getDate() - days);
            }
            
            var options = { year: 'numeric', month: 'long', day: 'numeric' };
            var formattedDate = date.toLocaleDateString('fr-FR', options);
            
            if (isNaN(date)) {
                resultSpan.textContent = "Date invalide.";
            } else {
                resultSpan.textContent = formattedDate;
            }
        }

        // Appel initial pour afficher le résultat au chargement de la page
        calculateDate();
    </script>
</body>
</html>
